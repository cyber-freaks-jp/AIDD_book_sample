# トークンとは

LLMを使う際に必ず出てくる「トークン」という言葉。これは料金計算や使用量の基準となる重要な概念です。

## トークンとは何か

**トークン（Token）** とは、LLMがテキストを処理するための最小単位です。

人間は文章を「文字」や「単語」として認識しますが、LLMは文章を**トークン**という単位に分解して処理します。

### トークン分割の仕組み

トークンは単純に文字や単語で分割されるわけではありません。LLMは**よく使われる文字の組み合わせの辞書**に基づいて、テキストを分割します。

この辞書は、学習データの中で頻繁に出現する文字列の組み合わせから作られます。そのため、以下のような特徴があります。

- **よく使われる単語や表現**は、1トークンになりやすい
- **あまり使われない単語や専門用語**は、複数トークンに分割されやすい

### トークン分割の具体例

#### 例1：英語の文章

**「Hello, World!」**

```
[Hello][,][ World][!]
   ↓    ↓    ↓     ↓
トークン1 トークン2 トークン3 トークン4
```

約4トークンに分割されます。

英語では、基本的な単語は1トークンになることが多いです。「Hello」のような一般的な単語は、学習データに頻繁に登場するため、1トークンとして扱われます。

#### 例2：日本語の挨拶

**「こんにちは」**

```
[こんにちは]
     ↓
  トークン1
```

約1トークンに分割されます。

「こんにちは」は日本語の中でもよく使われる挨拶表現のため、1トークンとして扱われることが多いです。このように、**よく使われる表現ほど、まとまって1つのトークンになる**という特徴があります。

## 文字数・バイト数との違い

トークンは、文字数やバイト数とは異なる概念です。具体例で比較してみましょう。

### 例：「Hello World」

**文字数で数えると**
```
H e l l o   W o r l d
1 2 3 4 5 6 7 8 9 10 11  → 11文字（スペース含む）
```

**バイト数で数えると**
```
11バイト（UTF-8、半角英数字は1文字1バイト）
```

**トークン数で数えると**
```
[Hello][ World]
   ↓      ↓
トークン1 トークン2  → 約2トークン
```

同じ「Hello World」というテキストでも、数え方によって異なる値になることがわかります。


## まとめ

トークンは LLM の基本単位であり、コストやパフォーマンスに直接影響します。トークンを理解し、適切に管理することで、より効率的な AI 活用が可能になります。
